#: kivy 2.0.0
#:import now datetime.datetime

<LogRow>:
    orientation: 'horizontal'
    padding:10,10
    spacing: 10
    Label:
        size_hint_x: 0.2
        color: 0, 0, 0
        text:root.carno
    TimeLabel:
        size_hint_x: 0.3
        color: 0, 0, 0
        update:False
        tm:root.tm
    Label:
        size_hint_x: 0.3
        color:0,0,0
        text: root.rtm.strftime("%H:%M:%S") if root.is_rtm else ''
    Label:
        size_hint_x: 0.2
        color: 0,0,0
        text: 'No' if not root.LL else 'Yes'
<RallyRow>:
    car: car
    carno: car.text
    orientation: 'horizontal'
    padding:10,10
    spacing: 10
    NumericInput:
        #background_color: 1,1,1,1
        id: car
        text:root.carno
        size_hint_x: 0.2
        size: self.size
        on_text_validate: root.on_enter()
    TimeLabel:
        size_hint_x: 0.6
        color: 0, 0, 0
        id: tm
        update:False
        tm:root.tm
    RoundedButton:
        color: 0,0,0
        size_hint_x: 0.1
        text: "RT"
        #on_press: root.on_b3(self)
        #on_release: app.on_release(self, 2)
    RoundedButton:
        color: 0,0,0
        size_hint_x: 0.1
        text: "LL"
        on_press: root.on_ll()
        #on_release: app.on_release(self, 2)

<RV>:
    RecycleBoxLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

<RoundedButton>
	background_color: 0,0,0,0
    background_normal: ''
    background_down:''
    canvas.before:
        Color:
            rgb: 189/255, 228/255, 244/255
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [10,]

<NavigationBar>:
    size_hint_y: 0.08
    background_color: 0,0,0,1
    orientation:'horizontal'
    RoundedButton
        size_hint_x: 0.3
        color: 0,0,0
        font_size: self.height * 0.9
        text: 'Back'
        bold: True
        on_press: app.sm.current = "Home"
        #on_release: app.on_release(self, 6)
    TimeLabel:
        size_hint_x:0.4
        color: 0,0,0
    Label:
        size_hint_x: 0.3
        color: 0,0,0
        text: "Battery"

<LLPopup>:
    title: 'Confirmation'
    size_hint: (0.4,0.4)
    BoxLayout:
        orientation:'vertical'
        Label:
            size_hint_y:0.7
            text: 'Do you want to give Lifeline?'
            text_size: self.width, None
        BoxLayout:
            size_hint_y:0.3
            orientation: 'horizontal'
            Button:
                text:'Yes'
                on_release: root.row.LL = True;root.dismiss()
            Button:
                text:'No'
                on_release: root.row.LL = False;root.dismiss()