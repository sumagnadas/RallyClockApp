#: kivy 2.0.0
#:import now datetime.datetime

<RallyRow>:
    car: car
    carno : car.text
    tm:tm
    orientation: 'horizontal'
    padding:10,10
    spacing: 10
    NumericInput:
        id: car
        text:str(root.carno)
        size_hint_x: 0.2
        size: self.size
        on_text_validate: root.on_enter()
    TimeLabel:
        color: 0, 0, 0
        id: tm
        update:False
        time:root.time

<RV>:
    viewclass: 'RallyRow'
    RecycleBoxLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

<RoundedButton>
	background_color: 0,0,0,0
    background_normal: ''
    background_down:''
    canvas.before:
        Color:
            rgb: 200/255, 200/255, 200/255
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [10,]

<Page3>:
    rv:rv
    canvas.before:
        Color:
            rgb: 1,1,1
        Rectangle:
            size: self.size
    size:root.size
    BoxLayout:
        orientation: 'vertical'
        size: self.parent.size
        padding: 10, 10
        spacing: 10
        BoxLayout:
            size_hint_y: 0.1
            background_color: 0,0,0,1
            orientation:'horizontal'
            RoundedButton
                size_hint_x: 0.2
                color: 0,0,0
                text: 'back'
                on_press: app.sm.current = "Home"
                #on_release: app.on_release(self, 6)
            TimeLabel:
                size_hint_x:0.5
                color: 0,0,0
            Label:
                size_hint_x: 0.3
                color: 0,0,0
                text: "Battery"
        RV:
            id: rv
            size_hint_y: 0.8
        RoundedButton:
            size_hint_y: 0.1
            color: 0,0,0
            text: 'Capture'
            on_press: root.on_capture(now.now().time())

